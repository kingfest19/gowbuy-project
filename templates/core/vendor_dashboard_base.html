{% load static i18n %}
<!DOCTYPE html>
<html lang="{{ request.LANGUAGE_CODE|default:"en" }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block page_title %}{% trans "Vendor Dashboard" %}{% endblock page_title %} - NEXUS</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    {% comment %} Font Awesome link removed as emojis are used for sidebar. Add back if main nav/footer needs it. {% endcomment %}
    <!-- Custom Dashboard CSS (if you have one) -->
    <link rel="stylesheet" href="{% static 'assets/css/vendor_dashboard.css' %}"> {% comment %} Create this file if needed {% endcomment %}

    {% block extra_css %}{% endblock extra_css %}

    <style>
        body {
            display: flex; /* For sticky footer */
            flex-direction: column; /* For sticky footer */
            min-height: 100vh;
        }
        .vendor-dashboard-content-wrapper {
            flex-grow: 1; /* Allows this area to expand, for sticky footer */
            position: relative; /* For positioning fixed sidebar correctly within this flow */
            padding-top: 60px; /* Placeholder for main navbar height */
        }
        .sidebar {
            width: 250px;
            background-color: #f8f9fa;
            padding: 1rem;
            height: calc(100vh - 60px); /* Full viewport height minus navbar height */
            position: fixed;
            top: 60px; /* Position below the main navbar */
            left: 0;
            border-right: 1px solid #dee2e6;
            overflow-y: auto; /* Allow sidebar to scroll if content exceeds height */
        }
        .main-content {
            margin-left: 250px; /* Same as sidebar width */
            padding: 20px; /* Original padding */
            width: calc(100% - 250px); /* Adjust width */
        }
        .sidebar .nav-link {
            color: #333;
        }
        .sidebar .nav-link.active {
            font-weight: bold;
            color: #007bff;
        }
        .sidebar .nav-link:hover {
            background-color: #e9ecef;
        }
    </style>
</head>
<body>
    {% include 'partials/_main_navbar.html' %} {# <<< Main site navigation bar #}

    <div class="vendor-dashboard-content-wrapper">
        <div class="sidebar">
            <h4 class="mb-4">{% trans "Vendor Panel" %}</h4>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link {% if request.resolver_match.url_name == 'vendor_dashboard' %}active{% endif %}" href="{% url 'core:vendor_dashboard' %}">
                        ğŸ“Š {% trans "Dashboard" %}
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if request.resolver_match.url_name == 'vendor_product_list' or request.resolver_match.url_name == 'vendor_product_create' or request.resolver_match.url_name == 'vendor_product_edit' %}active{% endif %}" href="{% url 'core:vendor_product_list' %}">
                        ğŸ“¦ {% trans "Products" %}
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if request.resolver_match.url_name == 'vendor_order_list' %}active{% endif %}" href="{% url 'core:vendor_order_list' %}">
                        ğŸ›’ {% trans "Orders" %}
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if request.resolver_match.url_name == 'vendor_reports' %}active{% endif %}" href="{% url 'core:vendor_reports' %}">
                        ğŸ“„ {% trans "Reports" %}
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if request.resolver_match.url_name == 'vendor_promotion_list' or request.resolver_match.url_name == 'vendor_promotion_create' or request.resolver_match.url_name == 'vendor_promotion_edit' %}active{% endif %}" href="{% url 'core:vendor_promotion_list' %}">
                        ğŸ“ˆ {% trans "Promotions" %}
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if request.resolver_match.url_name == 'vendor_campaign_list' or request.resolver_match.url_name == 'vendor_campaign_create' or request.resolver_match.url_name == 'vendor_campaign_edit' %}active{% endif %}" href="{% url 'core:vendor_campaign_list' %}">
                        ğŸ“¢ {% trans "Campaigns" %}
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if request.resolver_match.url_name == 'edit_vendor_profile' %}active{% endif %}" href="{% url 'core:edit_vendor_profile' %}">
                        ğŸ¬ {% trans "Shop Profile" %}
                    </a>
                </li>
                 <li class="nav-item">
                    <a class="nav-link {% if request.resolver_match.url_name == 'vendor_verification' %}active{% endif %}" href="{% url 'core:vendor_verification' %}">
                        âœ… {% trans "Verification" %}
                    </a>
                </li>
                <li class="nav-item mt-auto">
                    <hr>
                    <a class="nav-link" href="{% url 'core:home' %}">ğŸ  {% trans "Back to Site" %}</a>
                    <a class="nav-link text-danger" href="{% url 'authapp:signout' %}">ğŸšª {% trans "Sign Out" %}</a>
                </li>
            </ul>
        </div>

        <div class="main-content">
            {% block vendor_content %}
            <!-- Content from child templates will go here -->
            {% endblock vendor_content %}
        </div>
    </div> <!-- End vendor-dashboard-content-wrapper -->

    {% include 'partials/_main_footer.html' %} {# <<< Main site footer #}

    <!-- Bootstrap JS Bundle (Popper.js included) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    {% block extra_js %}{% endblock extra_js %}
</body>
</html>