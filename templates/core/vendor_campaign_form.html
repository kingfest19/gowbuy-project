{% extends "base.html" %}
{% load static %}
{% load i18n %}

{% block title %}{{ form_title }} - {{ vendor.name }}{% endblock %}

{% block extra_head %}
{# Force dark text color for form elements if needed #}
<style>
    /* General form styling */
    #campaignForm {
        padding: 1.5rem;
        background-color: #f8f9fa; /* A very light grey background for the form area */
        border-radius: 0.375rem; /* Bootstrap's default border-radius */
        border: 1px solid #dee2e6; /* A subtle border */
        margin-top: 1rem; /* Space between heading and form */
    }

    #campaignForm label,
    #campaignForm p { /* Target labels and paragraphs generated by form.as_p */
        color: #212529 !important; /* Bootstrap default dark text color */
        margin-bottom: 0.5rem; /* Space below label/paragraph */
        font-weight: 500; /* Slightly bolder labels */
    }

    #campaignForm p { /* Specifically for paragraphs containing inputs from form.as_p */
        margin-bottom: 1.25rem; /* More space below each form field group */
    }

    /* Styling for form inputs, selects, and textareas */
    #campaignForm input[type="text"],
    #campaignForm input[type="number"],
    #campaignForm input[type="date"],
    #campaignForm input[type="url"],
    #campaignForm select,
    #campaignForm textarea {
        display: block;
        width: 100%;
        padding: .375rem .75rem;
        font-size: 1rem;
        font-weight: 400;
        line-height: 1.5;
        color: #212529;
        background-color: #fff;
        background-clip: padding-box;
        border: 1px solid #ced4da;
        appearance: none; /* Remove default styling */
        border-radius: .25rem;
        transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
    }

    #campaignForm input[type="text"]:focus,
    #campaignForm input[type="number"]:focus,
    #campaignForm input[type="date"]:focus,
    #campaignForm input[type="url"]:focus,
    #campaignForm select:focus,
    #campaignForm textarea:focus {
        border-color: #86b7fe; /* Bootstrap focus color */
        outline: 0;
        box-shadow: 0 0 0 .25rem rgba(13,110,253,.25); /* Bootstrap focus shadow */
    }

    #campaignForm textarea {
        min-height: 120px; /* Give textareas a decent default height */
    }

    /* Help text styling */
    #campaignForm .helptext {
        font-size: 0.875em;
        color: #6c757d; /* Bootstrap muted color */
        display: block;
        margin-top: .25rem;
    }

    /* Error list styling */
    #campaignForm .errorlist {
        list-style-type: none;
        padding: 0;
        color: #dc3545; /* Bootstrap danger color */
        font-size: 0.875em;
        margin-top: .25rem;
    }

    /* Button enhancements */
    .d-grid .btn {
        padding: 0.5rem 1rem; /* Slightly larger buttons */
        font-size: 1.05rem;
    }

    /* Wrapper for the entire form section including the title */
    .form-section-wrapper {
        border: 1px solid #ced4da; /* A clear but not too heavy border */
        padding: 2rem;             /* Generous padding inside the border */
        border-radius: 0.375rem;   /* Bootstrap's default border-radius for consistency */
        background-color: #ffffff; /* White background to make the section pop if page bg is different */
        box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075); /* Subtle Bootstrap shadow */
    }
</style>
{% endblock extra_head %}

{% block content %}
<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-7 form-section-wrapper"> {# Added form-section-wrapper class #}
            {# Removed card structure, form_title is now a standalone heading #}
            <h2 class="mb-4 text-primary">{{ form_title }}</h2>

            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            {% endif %}

            <form method="post" id="campaignForm">
                {% csrf_token %}

                {% if form.non_field_errors %}
                    <div class="alert alert-danger">
                        {% for error in form.non_field_errors %}
                            <p class="mb-0">{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}

                {# Render form fields - using as_p for simplicity, customize if needed #}
                {{ form.as_p }}

                <div class="d-grid gap-2 mt-4">
                    <button type="submit" class="btn btn-success">{% trans "Save Ad Campaign" %}</button>
                     <a href="{% url 'core:vendor_ads' %}" class="btn btn-secondary">{% trans "Cancel" %}</a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
