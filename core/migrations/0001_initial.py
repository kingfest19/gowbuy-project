# Generated by Django 5.2 on 2025-05-07 18:59

import core.models
import django.core.validators
import django.db.models.deletion
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Address',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('address_type', models.CharField(choices=[('shipping', 'Shipping'), ('billing', 'Billing')], max_length=10)),
                ('full_name', models.CharField(help_text="Recipient's full name", max_length=150)),
                ('street_address', models.CharField(max_length=255)),
                ('apartment_address', models.CharField(blank=True, help_text='Apt, suite, unit, building, floor, etc.', max_length=100, null=True)),
                ('city', models.CharField(max_length=100)),
                ('state', models.CharField(help_text='State / Province / Region', max_length=100)),
                ('zip_code', models.CharField(max_length=20, verbose_name='ZIP / Postal Code')),
                ('country', models.CharField(max_length=100)),
                ('phone_number', models.CharField(blank=True, max_length=20, null=True)),
                ('is_default', models.BooleanField(default=False, help_text='Is this the default address for this type?')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='addresses', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Address',
                'verbose_name_plural': 'Addresses',
                'ordering': ('-is_default', '-created_at'),
            },
        ),
        migrations.CreateModel(
            name='Category',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(db_index=True, max_length=200, unique=True)),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly version of the name. Leave blank to auto-generate.', max_length=200, unique=True)),
                ('description', models.TextField(blank=True, null=True)),
                ('image', models.ImageField(blank=True, help_text='Optional image for the category.', null=True, upload_to='categories/')),
                ('is_active', models.BooleanField(default=True, help_text='Is this category currently visible/usable?')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('parent', models.ForeignKey(blank=True, help_text='Assign if this is a subcategory.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='subcategories', to='core.category')),
            ],
            options={
                'verbose_name': 'Category',
                'verbose_name_plural': 'Categories',
                'ordering': ('name',),
            },
        ),
        migrations.CreateModel(
            name='Order',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('order_id', models.CharField(blank=True, help_text='Unique order identifier. Auto-generated.', max_length=120, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('status', models.CharField(choices=[('PENDING', 'Pending Payment Choice'), ('AWAITING_ESCROW_PAYMENT', 'Awaiting Escrow Payment'), ('AWAITING_DIRECT_PAYMENT', 'Awaiting Direct Payment Confirmation'), ('PROCESSING', 'Processing'), ('IN_PROGRESS', 'Service In Progress'), ('COMPLETED', 'Completed'), ('CANCELLED', 'Cancelled'), ('DISPUTED', 'Disputed'), ('pending', 'Pending (Product Order)'), ('processing', 'Processing (Product Order)'), ('shipped', 'Shipped (Product Order)'), ('delivered', 'Delivered (Product Order)'), ('cancelled', 'Cancelled (Product Order)'), ('refunded', 'Refunded (Product Order)')], db_index=True, default='PENDING', max_length=30)),
                ('total_amount', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('ordered', models.BooleanField(default=False)),
                ('shipping_address_text', models.TextField(blank=True, help_text='Snapshot of shipping address at time of order.', null=True)),
                ('billing_address_text', models.TextField(blank=True, help_text='Snapshot of billing address at time of order.', null=True)),
                ('transaction_id', models.CharField(blank=True, help_text='Payment gateway transaction ID.', max_length=255, null=True)),
                ('notes', models.TextField(blank=True, help_text='Internal notes about the order.', null=True)),
                ('payment_method', models.CharField(blank=True, choices=[('escrow', 'Escrow (Paystack)'), ('direct', 'Direct Arrangement')], max_length=10, null=True)),
                ('paystack_ref', models.CharField(blank=True, help_text='Paystack transaction reference for verification.', max_length=100, null=True)),
                ('billing_address', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='billing_orders', to='core.address')),
                ('shipping_address', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='shipping_orders', to='core.address')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='orders', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Order',
                'verbose_name_plural': 'Orders',
                'ordering': ('-created_at',),
            },
        ),
        migrations.CreateModel(
            name='Product',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(db_index=True, max_length=255)),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly version of the name. Leave blank to auto-generate.', max_length=255, unique=True)),
                ('description', models.TextField(blank=True)),
                ('price', models.DecimalField(decimal_places=2, help_text='Price in USD (or your base currency).', max_digits=10)),
                ('product_type', models.CharField(choices=[('physical', 'Physical Product'), ('digital', 'Digital Product')], default='physical', help_text='Type of product', max_length=10)),
                ('stock', models.PositiveIntegerField(default=0, help_text='Number of physical items in stock. Not applicable for digital products.')),
                ('digital_file', models.FileField(blank=True, help_text='Upload the file for digital products.', null=True, upload_to='products/digital/')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='Is the product available for purchase (requires vendor approval too)?')),
                ('is_featured', models.BooleanField(db_index=True, default=False, help_text='Should this product be featured (e.g., on homepage)?')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('category', models.ForeignKey(help_text='Category this product belongs to.', on_delete=django.db.models.deletion.PROTECT, related_name='products', to='core.category')),
            ],
            options={
                'verbose_name': 'Product',
                'verbose_name_plural': 'Products',
                'ordering': ('-created_at', 'name'),
            },
        ),
        migrations.CreateModel(
            name='ProductImage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('image', models.ImageField(help_text='Upload a product image.', upload_to='products/gallery/')),
                ('alt_text', models.CharField(blank=True, help_text="Optional: Descriptive text for accessibility (e.g., 'Red T-shirt front view').", max_length=255, null=True)),
                ('uploaded_at', models.DateTimeField(auto_now_add=True)),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='images', to='core.product')),
            ],
            options={
                'verbose_name': 'Product Image',
                'verbose_name_plural': 'Product Images',
                'ordering': ['uploaded_at'],
            },
        ),
        migrations.CreateModel(
            name='ProductReview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('rating', models.PositiveSmallIntegerField(choices=[(1, '1 - Terrible'), (2, '2 - Poor'), (3, '3 - Average'), (4, '4 - Good'), (5, '5 - Excellent')], validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('review', models.TextField(blank=True, null=True)),
                ('video', models.FileField(blank=True, help_text='Optional: Upload a short video review (MP4, WebM recommended).', null=True, upload_to='reviews/videos/')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('is_approved', models.BooleanField(default=True, help_text='Is this review visible to the public? (For moderation)')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reviews', to='core.product')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reviews', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Product Review',
                'verbose_name_plural': 'Product Reviews',
                'ordering': ('-created_at',),
            },
        ),
        migrations.CreateModel(
            name='ProductVideo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('video', models.FileField(help_text='Upload a product video (MP4, WebM recommended).', upload_to='products/videos/')),
                ('title', models.CharField(blank=True, help_text='Optional title for the video.', max_length=255, null=True)),
                ('description', models.TextField(blank=True, help_text='Optional description.', null=True)),
                ('uploaded_at', models.DateTimeField(auto_now_add=True)),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='videos', to='core.product')),
            ],
            options={
                'verbose_name': 'Product Video',
                'verbose_name_plural': 'Product Videos',
                'ordering': ['uploaded_at'],
            },
        ),
        migrations.CreateModel(
            name='ServiceCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(db_index=True, max_length=200, unique=True)),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly version of the name. Leave blank to auto-generate.', max_length=200, unique=True)),
                ('description', models.TextField(blank=True, null=True)),
                ('image', models.ImageField(blank=True, help_text='Optional image for the service category.', null=True, upload_to='services/categories/')),
                ('is_active', models.BooleanField(default=True, help_text='Is this category currently visible/usable?')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('parent', models.ForeignKey(blank=True, help_text='Assign if this is a subcategory.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='subcategories', to='core.servicecategory')),
            ],
            options={
                'verbose_name': 'Service Category',
                'verbose_name_plural': 'Service Categories',
                'ordering': ('name',),
            },
        ),
        migrations.CreateModel(
            name='Service',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(db_index=True, max_length=255)),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly version of the title. Leave blank to auto-generate.', max_length=255, unique=True)),
                ('description', models.TextField(help_text='Detailed description of the service offered.')),
                ('skills', models.TextField(blank=True, help_text='List relevant skills, separated by commas (e.g., Python, Graphic Design, Copywriting).')),
                ('experience', models.TextField(blank=True, help_text='Summarize your relevant experience (e.g., years in the field, key projects).')),
                ('education', models.TextField(blank=True, help_text='List relevant education or certifications.')),
                ('price', models.DecimalField(blank=True, decimal_places=2, help_text='Price if fixed, leave blank if variable/negotiable.', max_digits=10, null=True)),
                ('location', models.CharField(blank=True, help_text="Location where the service is offered (e.g., 'Accra', 'Remote').", max_length=255)),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='Is the service currently available?')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('provider', models.ForeignKey(help_text='The user offering this service.', on_delete=django.db.models.deletion.CASCADE, related_name='provided_services', to=settings.AUTH_USER_MODEL)),
                ('category', models.ForeignKey(help_text='Category this service belongs to.', on_delete=django.db.models.deletion.PROTECT, related_name='services', to='core.servicecategory')),
            ],
            options={
                'verbose_name': 'Service',
                'verbose_name_plural': 'Services',
                'ordering': ('-created_at', 'title'),
            },
        ),
        migrations.CreateModel(
            name='ServiceImage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('image', models.ImageField(help_text='Upload an image showcasing the service or portfolio work.', upload_to='services/gallery/')),
                ('alt_text', models.CharField(blank=True, help_text='Optional: Descriptive text for accessibility.', max_length=255, null=True)),
                ('uploaded_at', models.DateTimeField(auto_now_add=True)),
                ('service', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='images', to='core.service')),
            ],
            options={
                'verbose_name': 'Service Image',
                'verbose_name_plural': 'Service Images',
                'ordering': ['uploaded_at'],
            },
        ),
        migrations.CreateModel(
            name='ServicePackage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text="Give this package a descriptive name (e.g., 'Basic Logo', 'Full Website Setup', 'Hourly Consultation').", max_length=100)),
                ('description', models.TextField(help_text="Describe what's included in this package.")),
                ('price', models.DecimalField(decimal_places=2, help_text='Price for this package.', max_digits=10)),
                ('delivery_time', models.PositiveIntegerField(help_text='Estimated delivery time in days.')),
                ('revisions', models.PositiveIntegerField(default=0, help_text='Number of revisions included.')),
                ('display_order', models.PositiveIntegerField(default=0, help_text='Order in which packages are displayed (0=first).')),
                ('is_active', models.BooleanField(default=True)),
                ('service', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='packages', to='core.service')),
            ],
            options={
                'verbose_name': 'Service Package',
                'verbose_name_plural': 'Service Packages',
                'ordering': ['service', 'display_order', 'price'],
            },
        ),
        migrations.CreateModel(
            name='OrderItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('product_name', models.CharField(blank=True, help_text='Snapshot of product name at time of order.', max_length=255)),
                ('service_package_name', models.CharField(blank=True, help_text='Snapshot of service package name at time of order.', max_length=255)),
                ('price', models.DecimalField(decimal_places=2, help_text='Price per unit at the time of order.', max_digits=10)),
                ('quantity', models.PositiveIntegerField(default=1)),
                ('order', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='core.order')),
                ('provider', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='provided_order_items', to=settings.AUTH_USER_MODEL)),
                ('product', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='order_items', to='core.product')),
                ('service_package', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='order_items', to='core.servicepackage')),
            ],
            options={
                'verbose_name': 'Order Item',
                'verbose_name_plural': 'Order Items',
                'ordering': ('order', 'product_name'),
            },
        ),
        migrations.CreateModel(
            name='ServiceReview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('rating', models.PositiveSmallIntegerField(choices=[(1, '1 - Terrible'), (2, '2 - Poor'), (3, '3 - Average'), (4, '4 - Good'), (5, '5 - Excellent')], validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('comment', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('is_approved', models.BooleanField(default=True, help_text='Is this review visible to the public? (For moderation)')),
                ('service', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reviews', to='core.service')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='service_reviews', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Service Review',
                'verbose_name_plural': 'Service Reviews',
                'ordering': ('-created_at',),
            },
        ),
        migrations.CreateModel(
            name='ServiceVideo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('video', models.FileField(help_text='Upload a video showcasing the service (MP4, WebM recommended).', upload_to='services/videos/')),
                ('title', models.CharField(blank=True, help_text='Optional title for the video.', max_length=255, null=True)),
                ('description', models.TextField(blank=True, help_text='Optional description.', null=True)),
                ('uploaded_at', models.DateTimeField(auto_now_add=True)),
                ('service', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='videos', to='core.service')),
            ],
            options={
                'verbose_name': 'Service Video',
                'verbose_name_plural': 'Service Videos',
                'ordering': ['uploaded_at'],
            },
        ),
        migrations.CreateModel(
            name='Vendor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Public name of the vendor/store.', max_length=200, unique=True)),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly version of the vendor name. Leave blank to auto-generate.', max_length=200, unique=True)),
                ('description', models.TextField(blank=True, help_text='Public description of the vendor.', null=True)),
                ('contact_email', models.EmailField(blank=True, max_length=254, null=True)),
                ('phone_number', models.CharField(blank=True, max_length=20, null=True)),
                ('logo', models.ImageField(blank=True, help_text='Optional logo for the vendor.', null=True, upload_to=core.models.vendor_directory_path)),
                ('location_city', models.CharField(blank=True, max_length=100, null=True)),
                ('location_country', models.CharField(blank=True, max_length=100, null=True)),
                ('business_registration_doc', models.FileField(blank=True, null=True, upload_to=core.models.vendor_directory_path, verbose_name='Business Registration Document')),
                ('national_id_type', models.CharField(blank=True, max_length=50, null=True, verbose_name='Type of National ID')),
                ('tax_id_number', models.CharField(blank=True, max_length=100, null=True, verbose_name='Tax Identification Number (TIN)')),
                ('other_business_doc', models.FileField(blank=True, null=True, upload_to=core.models.vendor_directory_path, verbose_name='Other Supporting Document (Optional)')),
                ('national_id_number', models.CharField(blank=True, max_length=100, null=True, verbose_name='National ID Number')),
                ('national_id_doc', models.FileField(blank=True, null=True, upload_to=core.models.vendor_directory_path, verbose_name='National ID Document')),
                ('shipping_policy', models.TextField(blank=True, null=True, verbose_name='Shipping Policy')),
                ('return_policy', models.TextField(blank=True, null=True, verbose_name='Return Policy')),
                ('mobile_money_provider', models.CharField(blank=True, max_length=50, null=True, verbose_name='Mobile Money Provider')),
                ('mobile_money_number', models.CharField(blank=True, max_length=20, null=True, verbose_name='Mobile Money Number')),
                ('is_approved', models.BooleanField(default=False, help_text='Is this vendor approved to sell products?')),
                ('is_verified', models.BooleanField(default=False, help_text='Has this vendor been verified by NEXUS staff (e.g., identity checked)?')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(help_text='The user account managing this vendor profile.', on_delete=django.db.models.deletion.CASCADE, related_name='vendor_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Vendor',
                'verbose_name_plural': 'Vendors',
                'ordering': ('name',),
            },
        ),
        migrations.CreateModel(
            name='Promotion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text="Internal name for the promotion (e.g., 'Summer Sale 20% Off')", max_length=255)),
                ('description', models.TextField(blank=True, help_text='Optional description for customers.')),
                ('code', models.CharField(blank=True, help_text='Coupon code users enter (optional, leave blank for automatic discounts).', max_length=50, null=True, unique=True)),
                ('promo_type', models.CharField(choices=[('percentage', 'Percentage Discount'), ('fixed_amount', 'Fixed Amount Discount')], default='percentage', max_length=20)),
                ('discount_value', models.DecimalField(decimal_places=2, help_text='Percentage (e.g., 20.00 for 20%) or fixed amount.', max_digits=10)),
                ('scope', models.CharField(choices=[('all', 'All Products'), ('category', 'Specific Category'), ('product', 'Specific Product(s)'), ('vendor', 'Specific Vendor')], default='all', max_length=20)),
                ('start_date', models.DateTimeField(help_text='When the promotion becomes active.')),
                ('end_date', models.DateTimeField(help_text='When the promotion expires.')),
                ('min_purchase_amount', models.DecimalField(blank=True, decimal_places=2, help_text='Minimum cart total required to apply (optional).', max_digits=10, null=True)),
                ('max_uses', models.PositiveIntegerField(blank=True, help_text='Maximum number of times this promotion can be used in total (optional).', null=True)),
                ('uses_per_customer', models.PositiveIntegerField(blank=True, help_text='Maximum number of times a single customer can use this promotion (optional).', null=True)),
                ('current_uses', models.PositiveIntegerField(default=0, editable=False)),
                ('is_active', models.BooleanField(default=True, help_text='Is this promotion currently active (within dates and usage limits)?')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('applicable_categories', models.ManyToManyField(blank=True, help_text="Select categories if scope is 'Specific Category'.", related_name='promotions', to='core.category')),
                ('applicable_products', models.ManyToManyField(blank=True, help_text="Select products if scope is 'Specific Product(s)'.", related_name='promotions', to='core.product')),
                ('applicable_vendor', models.ForeignKey(blank=True, help_text="Select vendor if scope is 'Specific Vendor'.", null=True, on_delete=django.db.models.deletion.CASCADE, related_name='promotions', to='core.vendor')),
            ],
            options={
                'verbose_name': 'Promotion',
                'verbose_name_plural': 'Promotions',
                'ordering': ('-start_date',),
            },
        ),
        migrations.AddField(
            model_name='product',
            name='vendor',
            field=models.ForeignKey(help_text='The vendor selling this product.', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='products', to='core.vendor'),
        ),
        migrations.CreateModel(
            name='AdCampaign',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Internal name for the campaign.', max_length=255)),
                ('placement', models.CharField(choices=[('homepage_banner', 'Homepage Banner'), ('search_results_top', 'Search Results (Top)'), ('category_sidebar', 'Category Sidebar')], help_text='Where the ad will be displayed.', max_length=50)),
                ('start_date', models.DateTimeField()),
                ('end_date', models.DateTimeField()),
                ('budget', models.DecimalField(blank=True, decimal_places=2, help_text='Total budget for the campaign (optional).', max_digits=10, null=True)),
                ('is_active', models.BooleanField(default=True, help_text='Is the campaign currently running?')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('promoted_product', models.ForeignKey(blank=True, help_text='Product being promoted (optional, if promoting the vendor store itself).', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='ad_campaigns', to='core.product')),
                ('vendor', models.ForeignKey(help_text='The vendor running the campaign.', on_delete=django.db.models.deletion.CASCADE, related_name='ad_campaigns', to='core.vendor')),
            ],
            options={
                'verbose_name': 'Ad Campaign',
                'verbose_name_plural': 'Ad Campaigns',
                'ordering': ('-start_date',),
            },
        ),
        migrations.CreateModel(
            name='VendorReview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('rating', models.PositiveSmallIntegerField(choices=[(1, '1 - Terrible'), (2, '2 - Poor'), (3, '3 - Average'), (4, '4 - Good'), (5, '5 - Excellent')], validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('comment', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('is_approved', models.BooleanField(default=True, help_text='Is this review visible to the public?')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='vendor_reviews', to=settings.AUTH_USER_MODEL)),
                ('vendor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reviews', to='core.vendor')),
            ],
            options={
                'verbose_name': 'Vendor Review',
                'verbose_name_plural': 'Vendor Reviews',
                'ordering': ('-created_at',),
            },
        ),
        migrations.CreateModel(
            name='WishlistItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('added_at', models.DateTimeField(auto_now_add=True)),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='wishlisted_by', to='core.product')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='wishlist_items', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Wishlist Item',
                'verbose_name_plural': 'Wishlist Items',
                'ordering': ('-added_at',),
            },
        ),
        migrations.AddConstraint(
            model_name='address',
            constraint=models.UniqueConstraint(condition=models.Q(('is_default', True)), fields=('user', 'address_type'), name='unique_default_address_per_type'),
        ),
        migrations.AlterUniqueTogether(
            name='productreview',
            unique_together={('product', 'user')},
        ),
        migrations.AlterUniqueTogether(
            name='servicereview',
            unique_together={('service', 'user')},
        ),
        migrations.AddIndex(
            model_name='product',
            index=models.Index(fields=['slug', 'id'], name='core_produc_slug_f51155_idx'),
        ),
        migrations.AddIndex(
            model_name='product',
            index=models.Index(fields=['vendor', 'is_active'], name='core_produc_vendor__c82f50_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='vendorreview',
            unique_together={('vendor', 'user')},
        ),
        migrations.AlterUniqueTogether(
            name='wishlistitem',
            unique_together={('user', 'product')},
        ),
    ]
