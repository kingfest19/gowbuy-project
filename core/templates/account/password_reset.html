{% extends 'base.html' %}
{% load static %} {# Ensure static is loaded #}
{% load crispy_forms_tags %} {# <<< LOAD CRISPY FORMS TAGS #}

{% block title %}Reset Password{% endblock title %}

{% block extra_css %}
    {# Link the dedicated CSS file for this page #}
    <link rel="stylesheet" href="{% static 'assets/css/password_reset.css' %}">
{% endblock extra_css %}

{% block content %}
{# Added wrapper div with a specific class for easier CSS targeting #}
<div class="password-reset-container container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6"> {# This div will get the white background/padding #}
      <h2>Reset Password</h2>
      <hr class="mb-4">
      <p class="instructions">Enter your email address below, and we'll email instructions for setting a new password.</p>

      {# Display Non-Field Errors if any #}
      {% if form.non_field_errors %}
          <div class="alert alert-danger" role="alert">
              {% for error in form.non_field_errors %}
                  <p class="mb-0">{{ error }}</p>
              {% endfor %}
          </div>
      {% endif %}

      <form method="post">
        {% csrf_token %}

        {# --- USE CRISPY FORMS TO RENDER --- #}
        {{ form|crispy }}
        {# --- END CRISPY FORMS --- #}

        <div class="d-grid gap-2 mt-3">
          <button type="submit" class="btn btn-primary">Send Reset Email</button>
        </div>
      </form>
      <div class="text-center mt-3">
        {# Add class to the link for specific styling #}
        <p><a href="{% url 'signin' %}" class="back-to-signin-link">Back to Sign In</a></p>
      </div>
    </div>
  </div>
</div>
{% endblock content %}
